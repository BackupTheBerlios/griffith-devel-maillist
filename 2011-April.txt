From fetchinson at googlemail.com  Tue Apr 12 13:24:08 2011
From: fetchinson at googlemail.com (Daniel Fetchinson)
Date: Tue, 12 Apr 2011 13:24:08 +0200
Subject: [Griffith-devel] patch for searching for any field
Message-ID: <BANLkTincQ=4RhOUP09PpfyV75iEJNBU1EA@mail.gmail.com>

Hi folks,

I'm sending a patch against trunk which makes it possible to search
for many fields ( 'director', 'title', 'original_title', 'cameraman',
'cast', 'year', 'country', 'notes' ) at once, i.e. all of them OR'd
together.

The patch only touches lib/quick_filter.py and in order to have this
fully functional the glade/griffith.glade file needs to be updated as
well to have "Any" in the drop-down menu of the Filter: field.
Unfortunately I'm not very familiar with glade, just started looking
at it these days.

I guess I'll be able to figure this one out (but if you guys know it
right away, please let me know!), in the meantime I'm just gauging
support for this feature so please let me know what you think.

Cheers,
Daniel

-- 
Psss, psss, put it down! - http://www.cafepress.com/putitdown
-------------- next part --------------
A non-text attachment was scrubbed...
Name: patch
Type: application/octet-stream
Size: 1257 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/griffith-devel/attachments/20110412/127915ae/attachment.obj>

From piotr at griffith.cc  Tue Apr 12 13:42:36 2011
From: piotr at griffith.cc (Piotr =?utf-8?Q?O=C5=BCarowski?=)
Date: Tue, 12 Apr 2011 13:42:36 +0200
Subject: [Griffith-devel] patch for searching for any field
In-Reply-To: <BANLkTincQ=4RhOUP09PpfyV75iEJNBU1EA@mail.gmail.com>
References: <BANLkTincQ=4RhOUP09PpfyV75iEJNBU1EA@mail.gmail.com>
Message-ID: <20110412114236.GD19405@piotro.eu>

[Daniel Fetchinson, 2011-04-12]
> I'm sending a patch against trunk which makes it possible to search
> for many fields ( 'director', 'title', 'original_title', 'cameraman',
> 'cast', 'year', 'country', 'notes' ) at once, i.e. all of them OR'd
> together.
> 
> The patch only touches lib/quick_filter.py and in order to have this

what's wrong with advance filter window (wich allows this and much more)?
-- 
Piotr O?arowski                         Debian GNU/Linux Developer
www.ozarowski.pl          www.griffith.cc           www.debian.org
GPG Fingerprint: 1D2F A898 58DA AF62 1786 2DF7 AEF6 F1A2 A745 7645


From fetchinson at googlemail.com  Tue Apr 12 14:54:08 2011
From: fetchinson at googlemail.com (Daniel Fetchinson)
Date: Tue, 12 Apr 2011 14:54:08 +0200
Subject: [Griffith-devel] patch for searching for any field
In-Reply-To: <20110412114236.GD19405@piotro.eu>
References: <BANLkTincQ=4RhOUP09PpfyV75iEJNBU1EA@mail.gmail.com>
	<20110412114236.GD19405@piotro.eu>
Message-ID: <BANLkTimeeoKJXG59c8Fj7Qy8Py4aZzDiew@mail.gmail.com>

>> I'm sending a patch against trunk which makes it possible to search
>> for many fields ( 'director', 'title', 'original_title', 'cameraman',
>> 'cast', 'year', 'country', 'notes' ) at once, i.e. all of them OR'd
>> together.
>>
>> The patch only touches lib/quick_filter.py and in order to have this
>
> what's wrong with advance filter window (wich allows this and much more)?

There is nothing wrong with that in terms of "what's possible", it's
more like a usability feature. I think it's much more convenient to
type whatever comes to mind (director, title, etc) into a field that
is always there than opening up a second window and typing things into
their respective fields.

So I'd ask, "what's wrong with making things simpler from a user
experience point of view?"  :)

The music catalogue software rhythmbox (which is very much like
griffith only for audio) allows for a quick search for any field on
its main window and I have to say I love the feature (and rhythmbox
gave me the idea that I should patch griffith in this way).

Cheers,
Daniel



-- 
Psss, psss, put it down! - http://www.cafepress.com/putitdown


From fetchinson at googlemail.com  Tue Apr 12 20:56:26 2011
From: fetchinson at googlemail.com (Daniel Fetchinson)
Date: Tue, 12 Apr 2011 20:56:26 +0200
Subject: [Griffith-devel] patch for searching for any field
In-Reply-To: <BANLkTimeeoKJXG59c8Fj7Qy8Py4aZzDiew@mail.gmail.com>
References: <BANLkTincQ=4RhOUP09PpfyV75iEJNBU1EA@mail.gmail.com>
	<20110412114236.GD19405@piotro.eu>
	<BANLkTimeeoKJXG59c8Fj7Qy8Py4aZzDiew@mail.gmail.com>
Message-ID: <BANLkTikx_jty6jSXxiyXM9jNO4CbOFQA2Q@mail.gmail.com>

>>> I'm sending a patch against trunk which makes it possible to search
>>> for many fields ( 'director', 'title', 'original_title', 'cameraman',
>>> 'cast', 'year', 'country', 'notes' ) at once, i.e. all of them OR'd
>>> together.
>>>
>>> The patch only touches lib/quick_filter.py and in order to have this
>>
>> what's wrong with advance filter window (wich allows this and much more)?
>
> There is nothing wrong with that in terms of "what's possible", it's
> more like a usability feature. I think it's much more convenient to
> type whatever comes to mind (director, title, etc) into a field that
> is always there than opening up a second window and typing things into
> their respective fields.
>
> So I'd ask, "what's wrong with making things simpler from a user
> experience point of view?"  :)
>
> The music catalogue software rhythmbox (which is very much like
> griffith only for audio) allows for a quick search for any field on
> its main window and I have to say I love the feature (and rhythmbox
> gave me the idea that I should patch griffith in this way).


I included a new patch because I used 'original_title' in place of
'o_title' in the previous one.

Cheers,
Daniel


-- 
Psss, psss, put it down! - http://www.cafepress.com/putitdown
-------------- next part --------------
A non-text attachment was scrubbed...
Name: patch
Type: application/octet-stream
Size: 1238 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/griffith-devel/attachments/20110412/fc4e7272/attachment.obj>

From fetchinson at googlemail.com  Thu Apr 14 19:57:53 2011
From: fetchinson at googlemail.com (Daniel Fetchinson)
Date: Thu, 14 Apr 2011 19:57:53 +0200
Subject: [Griffith-devel] Feature idea: I'm feelin' lucky button
Message-ID: <BANLkTin9NiXypUba1gZ20TYqGbkg0iFO7Q@mail.gmail.com>

Hi folks,

When I'm adding movies it's always through the "Get from web" button
and always using IMDB. After hitting the "Get from web" button a whole
list comes up and I need to select the movie I really mean. Now 99.99%
of the time it's the first on the list. It would be nice to have an
"I'm feelin' lucky button" next to "Get from web" just like google is
doing it. Then the list selection window wouldn't pop up but the first
hit would be automatically filled in.

What do you all think?

Cheers,
Daniel

-- 
Psss, psss, put it down! - http://www.cafepress.com/putitdown


From fetchinson at googlemail.com  Thu Apr 14 22:23:14 2011
From: fetchinson at googlemail.com (Daniel Fetchinson)
Date: Thu, 14 Apr 2011 22:23:14 +0200
Subject: [Griffith-devel] Feature idea: I'm feelin' lucky button
In-Reply-To: <BANLkTin9NiXypUba1gZ20TYqGbkg0iFO7Q@mail.gmail.com>
References: <BANLkTin9NiXypUba1gZ20TYqGbkg0iFO7Q@mail.gmail.com>
Message-ID: <BANLkTik=R9y270GbFWvv4j81wQZ9Twx03g@mail.gmail.com>

> When I'm adding movies it's always through the "Get from web" button
> and always using IMDB. After hitting the "Get from web" button a whole
> list comes up and I need to select the movie I really mean. Now 99.99%
> of the time it's the first on the list. It would be nice to have an
> "I'm feelin' lucky button" next to "Get from web" just like google is
> doing it. Then the list selection window wouldn't pop up but the first
> hit would be automatically filled in.

Coming to think of it the best option is probably to write another
plugin which would almost be identical to PluginMovieIMDB.py and the
only difference would be that the first element on the list is
automatically selected.

I'll probably do this. Cheers,
Daniel


-- 
Psss, psss, put it down! - http://www.cafepress.com/putitdown


From kamilhanus at gmail.com  Fri Apr 22 14:16:58 2011
From: kamilhanus at gmail.com (Kamil Hanus)
Date: Fri, 22 Apr 2011 14:16:58 +0200
Subject: [Griffith-devel] CSFD plugin fix
Message-ID: <BANLkTikdn8jLhu5aWt_6sO-egy_ijXvm5g@mail.gmail.com>

As you already knows, CSFD plugin is not workning. Here is my fix:
http://kamilhanus.cz/PluginMovieCSFD1.1.py

or plaint text

# -*- coding: utf-8 -*-

__revision__ = '$Id: PluginMovieCSFD.py 12 2011-05-22 08:37:14Z KamilHanus $'

# Copyright (c) 2011 Kamil Hanus

#

# This program is free software; you can redistribute it and/or modify

# it under the terms of the GNU General Public License as published by

# the Free Software Foundation; either version 2 of the License, or

# (at your option) any later version.

#

# This program is distributed in the hope that it will be useful,

# but WITHOUT ANY WARRANTY; without even the implied warranty of

# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the

# GNU Library General Public License for more details.

#

# You should have received a copy of the GNU General Public License

# along with this program; if not, write to the Free Software

# Foundation, 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.

# You may use and distribute this software under the terms of the

# GNU General Public License, version 2 or later

import gutils

import movie,string

import re

plugin_name = "CSFD"

plugin_description = "Cesko-Slovenska Filmova Databaze"

plugin_url = "www.csfd.cz"

plugin_language = _("Czech")

plugin_author = "Kamil Hanus"

plugin_author_email = "<kamilhanus at gmail.com>"

plugin_version = '1.1'

class Plugin(movie.Movie):

    def __init__(self, id):

        self.movie_id = id

        self.encode = "utf-8"

        self.url = "http://www.csfd.cz"+str(id)

    def get_image(self):

        self.image_url =
re.search(r"content=\"http://img.csfd.cz/posters/([^\"]*)\"",self.page)

        if self.image_url:

            self.image_url = "http://img.csfd.cz/posters/" +
gutils.strip_tags(self.image_url.group(1))

        else:

            self.image_url = ""

    def get_title(self, ret=False):

        data = re.search(r'<title>*>([^>]*)',self.page)

        if data:

            if len(data.group(1).split("/")) == 2:

		data = data.group(1).split(" | ")[0][:-7]

	    else:

		data = data.group(1).split(" / ")[0]

        else:

            data = ""

        if ret is True:

            return data

        else:

            self.title = data

    def get_o_title(self):

        self.o_title =
re.findall(r'/images/flags/flag_[\d]+.gif"[^<]*>([^/]*)',self.page)

        if len(self.o_title)>0:

            self.o_title = self.o_title[0]

	    self.o_title = self.o_title[11:-1]

        else:

            self.o_title = ""

        if self.o_title == "":

            self.o_title = self.get_title(True)

    def get_director(self):

	a=re.sub("\t", "", self.page)

	a=re.sub("\n", "", a)

	try:

	    b = re.search(r'data-truncate="60">(.*)</span></div><div>',a).group()

	    b = re.search(r"<a(.*)</span", b).group()[:-6]

	    b = b.split(",")

	    self.director=""

	    for i in b:

	        self.director=self.director + ", "+i[:-4].split(">")[-1]

	    if self.director[0] == ",":

	        self.director=self.director[2:]

	except:

	    self.director=""

	if self.director=="":

	    try:

		b = re.search(r'data-truncate="60">(.*)</a></span></div>',a).group()

		b = re.search(r"<a(.*)</span", b).group()[:-6]

		b = b.split(",")

		self.director=""

	        for i in b:

	            self.director=self.director + ", "+i[:-4].split(">")[-1]

	        if self.director[0] == ",":

	            self.director=self.director[2:]

	    except:

		self.director=""

    def get_year(self):

        self.year = re.search(r'<p class="origin"[^<]*>([^>]*)', self.page)

        if self.year:

            self.year = self.year.group()[18:-7].split(", ")[-2]

        else:

            self.year = ""

    def get_runtime(self):

        self.runtime = re.search(r'<p class="origin"[^<]*>([^>]*)', self.page)

        if self.runtime:

	    self.runtime = self.runtime.group()[18:-7].split(", ")[-1]

        else:

            self.runtime = ""

    def get_genre(self):

	try:

            self.genre = re.search(r'<p
class="genre"[^<]*>([^>]*)',self.page).group()[17:-3]

        except:

            self.genre = ""

    def get_country(self):

        self.country = re.search(r'<p class="origin"[^<]*>([^>]*)', self.page)

        if self.country:

            self.country = self.country.group()[18:-7].split(", ")[0]

        else:

            self.country = ""

    def get_cast(self):

	a=re.sub("\t", "", self.page)

	a=re.sub("\n", "", a)

	try:

	    b = re.search(r'data-truncate="280">(.*)</span></div></div>',a).group()

	    b = re.search(r"<a(.*)</span", b).group()[:-6]

	    b = b.split(",")

		    self.cast=""

	    for i in b:

	        self.cast=self.cast + ", "+i[:-4].split(">")[-1]

	    if self.cast[0] == ",":

	        self.cast=self.cast[2:]

	except:

	    self.cast=""

    def get_plot(self):

	a= re.sub("\t", "", self.page)

	a= re.sub("\n", "", a)

	a= re.sub("<BR>", "", a)

	try:

            self.plot = re.search(r'ka"([^<]*)',a).group(0)[6:]

	except:

	    self.plot = ""

    def get_site(self):

        self.site =
re.search(r"href=[\"'](http://.*imdb\.com/title/[^\"']*)",self.page)

        if self.site:

            self.site = gutils.strip_tags(self.site.group(1))

        else:

            self.site = ""

    def get_trailer(self):

        self.trailer = re.search(r"<a
href=\"([^\"]*)\"[^>]*>trailer<br><img
src=\"http://img.csfd.cz/images/new/film/ikona_trailer",self.page)

        try:

            self.trailer = self.url+"videa"

        except:

            self.trailer = ""

    def get_rating(self):

	a= re.sub("\t", "", self.page)

	a= re.sub("\n", "", a)

        self.rating = re.search(r"[\s]*([\d]+)%[\s]*</h2>",a).group()[:-6]

	        if self.rating:

            self.rating = str(float(self.rating)/10)

        else:

            self.rating = ""

    def get_o_site(self):

	try:

            self.o_site = "http://"+re.findall(r'<li><a\
href="http://([^>]*)',self.page)[1][:-36]

        except:

            self.o_site = ""

    def get_notes(self):

        self.notes = ""

    def get_studio(self):

        self.studio = ""

    def get_classification(self):

        self.classification = ""

class SearchPlugin(movie.SearchMovie):

    def __init__(self):

        self.encode = "utf-8"

        self.original_url_search   = "http://www.csfd.cz/hledat/?q="

        self.translated_url_search = "http://www.csfd.cz/hledat/?q="

    def search(self,parent_window):

        if not self.open_search(parent_window):

            return None

        return self.page

    def get_searches(self):

        tmp_id =
self.re_items=re.search(r"window.location.href='http://www.csfd.cz/(/film/[^']*)'",self.page)

        if tmp_id:

            self.ids.append(tmp_id.group(1))

        else:

            self.re_items=re.findall(r"href=\"(/film/[^\"]+)[^>]*>([^<]+)</a>([^<]*)",self.page)

            self.number_results = len(self.re_items)

            if (self.number_results > 0):

                for item in self.re_items:

                    self.ids.append(item[0])

#
self.titles.append(gutils.convert_entities(item[1])+' '+item[2])

                    self.titles.append(item[1]+' '+item[2])



Please, include it to next release of this great program.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/griffith-devel/attachments/20110422/45879e92/attachment.html>

From filosottile.wiki at gmail.com  Sat Apr 23 01:19:48 2011
From: filosottile.wiki at gmail.com (Filippo Valsorda)
Date: Sat, 23 Apr 2011 01:19:48 +0200
Subject: [Griffith-devel]  CSFD plugin fix
In-Reply-To: <BANLkTinh6Z6G97ZdJZ-rPxYt_RS4WsaJ_Q@mail.gmail.com>
References: <BANLkTikdn8jLhu5aWt_6sO-egy_ijXvm5g@mail.gmail.com>
	<BANLkTinh6Z6G97ZdJZ-rPxYt_RS4WsaJ_Q@mail.gmail.com>
Message-ID: <BANLkTi=-XZ-j-VNsGhsnb92hG6ZL+Te0Gw@mail.gmail.com>

It works like a charm.
I was bold and committed it together with a typo in the Italian i18n
and two minor fixes in plugins (year in PluginMovieIMDB-it.py and
rating in PluginMovieMyMoviesIt.py).
Let me know if I missed something.

Thanks

2011/4/22 Kamil Hanus <kamilhanus at gmail.com>:
> As you already knows, CSFD plugin is not workning. Here is my fix:
> http://kamilhanus.cz/PluginMovieCSFD1.1.py
> or plaint text
>
> [cut]
>
> Please, include it to next release of this great program.


From fetchinson at googlemail.com  Sun Apr 24 07:44:10 2011
From: fetchinson at googlemail.com (Daniel Fetchinson)
Date: Sun, 24 Apr 2011 07:44:10 +0200
Subject: [Griffith-devel] patch for searching for any field
In-Reply-To: <BLU0-SMTP1765E6C5B44B40139CB24B0A9AB0@phx.gbl>
References: <BANLkTincQ=4RhOUP09PpfyV75iEJNBU1EA@mail.gmail.com>
	<20110412114236.GD19405@piotro.eu>
	<BANLkTimeeoKJXG59c8Fj7Qy8Py4aZzDiew@mail.gmail.com>
	<BANLkTikx_jty6jSXxiyXM9jNO4CbOFQA2Q@mail.gmail.com>
	<BLU0-SMTP1765E6C5B44B40139CB24B0A9AB0@phx.gbl>
Message-ID: <BANLkTim0nCTiGimh8djcyM5N+sq-=Mod-A@mail.gmail.com>

> Do you know the type ahead feature of the main list?

No, I don't. But sounds good, what is it?

Cheers,
Daniel


>>>>> I'm sending a patch against trunk which makes it possible to search
>>>>> for many fields ( 'director', 'title', 'original_title', 'cameraman',
>>>>> 'cast', 'year', 'country', 'notes' ) at once, i.e. all of them OR'd
>>>>> together.
>>>>>
>>>>> The patch only touches lib/quick_filter.py and in order to have this
>>>> what's wrong with advance filter window (wich allows this and much
>>>> more)?
>>> There is nothing wrong with that in terms of "what's possible", it's
>>> more like a usability feature. I think it's much more convenient to
>>> type whatever comes to mind (director, title, etc) into a field that
>>> is always there than opening up a second window and typing things into
>>> their respective fields.
>>>
>>> So I'd ask, "what's wrong with making things simpler from a user
>>> experience point of view?"  :)
>>>
>>> The music catalogue software rhythmbox (which is very much like
>>> griffith only for audio) allows for a quick search for any field on
>>> its main window and I have to say I love the feature (and rhythmbox
>>> gave me the idea that I should patch griffith in this way).
>>
>> I included a new patch because I used 'original_title' in place of
>> 'o_title' in the previous one.
>>
>> Cheers,
>> Daniel
>>
>>
>>
>>
>> _______________________________________________
>> Griffith-devel mailing list
>> Griffith-devel at lists.berlios.de
>> https://lists.berlios.de/mailman/listinfo/griffith-devel
>
>


-- 
Psss, psss, put it down! - http://www.cafepress.com/putitdown


From fetchinson at googlemail.com  Sun Apr 24 07:46:27 2011
From: fetchinson at googlemail.com (Daniel Fetchinson)
Date: Sun, 24 Apr 2011 07:46:27 +0200
Subject: [Griffith-devel] patch for searching for any field
In-Reply-To: <BANLkTim0nCTiGimh8djcyM5N+sq-=Mod-A@mail.gmail.com>
References: <BANLkTincQ=4RhOUP09PpfyV75iEJNBU1EA@mail.gmail.com>
	<20110412114236.GD19405@piotro.eu>
	<BANLkTimeeoKJXG59c8Fj7Qy8Py4aZzDiew@mail.gmail.com>
	<BANLkTikx_jty6jSXxiyXM9jNO4CbOFQA2Q@mail.gmail.com>
	<BLU0-SMTP1765E6C5B44B40139CB24B0A9AB0@phx.gbl>
	<BANLkTim0nCTiGimh8djcyM5N+sq-=Mod-A@mail.gmail.com>
Message-ID: <BANLkTi=wEz71NzsEjE40Sx7pibj01Np6Kw@mail.gmail.com>

>> Do you know the type ahead feature of the main list?
>
> No, I don't. But sounds good, what is it?

You mean perhaps the feature that as I type the already typed query
gets searched for within a predefined short time interval? Yeah, I
know that one, it's pretty cool!
But how does this has to do with the ability to search for *any* field
from the main list?

Cheers,
Daniel


>>>>>> I'm sending a patch against trunk which makes it possible to search
>>>>>> for many fields ( 'director', 'title', 'original_title', 'cameraman',
>>>>>> 'cast', 'year', 'country', 'notes' ) at once, i.e. all of them OR'd
>>>>>> together.
>>>>>>
>>>>>> The patch only touches lib/quick_filter.py and in order to have this
>>>>> what's wrong with advance filter window (wich allows this and much
>>>>> more)?
>>>> There is nothing wrong with that in terms of "what's possible", it's
>>>> more like a usability feature. I think it's much more convenient to
>>>> type whatever comes to mind (director, title, etc) into a field that
>>>> is always there than opening up a second window and typing things into
>>>> their respective fields.
>>>>
>>>> So I'd ask, "what's wrong with making things simpler from a user
>>>> experience point of view?"  :)
>>>>
>>>> The music catalogue software rhythmbox (which is very much like
>>>> griffith only for audio) allows for a quick search for any field on
>>>> its main window and I have to say I love the feature (and rhythmbox
>>>> gave me the idea that I should patch griffith in this way).
>>>
>>> I included a new patch because I used 'original_title' in place of
>>> 'o_title' in the previous one.
>>>
>>> Cheers,
>>> Daniel
>>>
>>>
>>>
>>>
>>> _______________________________________________
>>> Griffith-devel mailing list
>>> Griffith-devel at lists.berlios.de
>>> https://lists.berlios.de/mailman/listinfo/griffith-devel
>>
>>
>
>
> --
> Psss, psss, put it down! - http://www.cafepress.com/putitdown
>


-- 
Psss, psss, put it down! - http://www.cafepress.com/putitdown


From mikej06 at hotmail.com  Mon Apr 25 20:06:52 2011
From: mikej06 at hotmail.com (Michael Jahn)
Date: Mon, 25 Apr 2011 20:06:52 +0200
Subject: [Griffith-devel] patch for searching for any field
In-Reply-To: <BANLkTi=wEz71NzsEjE40Sx7pibj01Np6Kw@mail.gmail.com>
References: <BANLkTincQ=4RhOUP09PpfyV75iEJNBU1EA@mail.gmail.com>	<20110412114236.GD19405@piotro.eu>	<BANLkTimeeoKJXG59c8Fj7Qy8Py4aZzDiew@mail.gmail.com>	<BANLkTikx_jty6jSXxiyXM9jNO4CbOFQA2Q@mail.gmail.com>	<BLU0-SMTP1765E6C5B44B40139CB24B0A9AB0@phx.gbl>	<BANLkTim0nCTiGimh8djcyM5N+sq-=Mod-A@mail.gmail.com>
	<BANLkTi=wEz71NzsEjE40Sx7pibj01Np6Kw@mail.gmail.com>
Message-ID: <BLU0-SMTP147E769AEDDA07336976AE9A9960@phx.gbl>

Perhaps I'm wrong but I thought it would partiallly fit your needs to
look for a movie by just typing in a part of the title or director.
Without opening an extra window.

Michael

Am 24.04.2011 07:46, schrieb Daniel Fetchinson:
>>> Do you know the type ahead feature of the main list?
>> No, I don't. But sounds good, what is it?
> You mean perhaps the feature that as I type the already typed query
> gets searched for within a predefined short time interval? Yeah, I
> know that one, it's pretty cool!
> But how does this has to do with the ability to search for *any* field
> from the main list?
>
> Cheers,
> Daniel
>
>
>>>>>>> I'm sending a patch against trunk which makes it possible to search
>>>>>>> for many fields ( 'director', 'title', 'original_title', 'cameraman',
>>>>>>> 'cast', 'year', 'country', 'notes' ) at once, i.e. all of them OR'd
>>>>>>> together.
>>>>>>>
>>>>>>> The patch only touches lib/quick_filter.py and in order to have this
>>>>>> what's wrong with advance filter window (wich allows this and much
>>>>>> more)?
>>>>> There is nothing wrong with that in terms of "what's possible", it's
>>>>> more like a usability feature. I think it's much more convenient to
>>>>> type whatever comes to mind (director, title, etc) into a field that
>>>>> is always there than opening up a second window and typing things into
>>>>> their respective fields.
>>>>>
>>>>> So I'd ask, "what's wrong with making things simpler from a user
>>>>> experience point of view?"  :)
>>>>>
>>>>> The music catalogue software rhythmbox (which is very much like
>>>>> griffith only for audio) allows for a quick search for any field on
>>>>> its main window and I have to say I love the feature (and rhythmbox
>>>>> gave me the idea that I should patch griffith in this way).
>>>> I included a new patch because I used 'original_title' in place of
>>>> 'o_title' in the previous one.
>>>>
>>>> Cheers,
>>>> Daniel
>>>>
>>>>
>>>>
>>>>
>>>> _______________________________________________
>>>> Griffith-devel mailing list
>>>> Griffith-devel at lists.berlios.de
>>>> https://lists.berlios.de/mailman/listinfo/griffith-devel
>>>
>>
>> --
>> Psss, psss, put it down! - http://www.cafepress.com/putitdown
>>
>



From fetchinson at googlemail.com  Tue Apr 26 14:12:29 2011
From: fetchinson at googlemail.com (Daniel Fetchinson)
Date: Tue, 26 Apr 2011 14:12:29 +0200
Subject: [Griffith-devel] patch for searching for any field
In-Reply-To: <BLU0-SMTP147E769AEDDA07336976AE9A9960@phx.gbl>
References: <BANLkTincQ=4RhOUP09PpfyV75iEJNBU1EA@mail.gmail.com>
	<20110412114236.GD19405@piotro.eu>
	<BANLkTimeeoKJXG59c8Fj7Qy8Py4aZzDiew@mail.gmail.com>
	<BANLkTikx_jty6jSXxiyXM9jNO4CbOFQA2Q@mail.gmail.com>
	<BLU0-SMTP1765E6C5B44B40139CB24B0A9AB0@phx.gbl>
	<BANLkTim0nCTiGimh8djcyM5N+sq-=Mod-A@mail.gmail.com>
	<BANLkTi=wEz71NzsEjE40Sx7pibj01Np6Kw@mail.gmail.com>
	<BLU0-SMTP147E769AEDDA07336976AE9A9960@phx.gbl>
Message-ID: <BANLkTi=BhgLbVZJnXNa4Wz7y1ueF3ewSMw@mail.gmail.com>

> Perhaps I'm wrong but I thought it would partiallly fit your needs to
> look for a movie by just typing in a part of the title or director.
> Without opening an extra window.

If I type in part of the title I only get the right result if 'Title'
is selected from the drop down list. Similarly if I type in part of
the director I get the right result only if 'Director' is selected
from said list.

What I'm after is an item on the drop down list called 'Any' which I
would set for my default and then typing in either the title or the
director (or any other field) would give me the expected result. In
this way you only have to type and don't have to select anything so
this way of doing things would be the fastest and most convenient.

By the way, the only thing I'm missing at the moment is a little help
with glade (the actual query in python is done now) so that really a
new item on the drop down list would appear. I'm guessing I have to
modify some of the .glade files, but don't know how. Is anyone
familiar with glade? Are these files edited by hand or only through
glade-2 or glade-3?

Cheers,
Daniel




>>>> Do you know the type ahead feature of the main list?
>>> No, I don't. But sounds good, what is it?
>> You mean perhaps the feature that as I type the already typed query
>> gets searched for within a predefined short time interval? Yeah, I
>> know that one, it's pretty cool!
>> But how does this has to do with the ability to search for *any* field
>> from the main list?
>>
>> Cheers,
>> Daniel
>>
>>
>>>>>>>> I'm sending a patch against trunk which makes it possible to search
>>>>>>>> for many fields ( 'director', 'title', 'original_title',
>>>>>>>> 'cameraman',
>>>>>>>> 'cast', 'year', 'country', 'notes' ) at once, i.e. all of them OR'd
>>>>>>>> together.
>>>>>>>>
>>>>>>>> The patch only touches lib/quick_filter.py and in order to have this
>>>>>>> what's wrong with advance filter window (wich allows this and much
>>>>>>> more)?
>>>>>> There is nothing wrong with that in terms of "what's possible", it's
>>>>>> more like a usability feature. I think it's much more convenient to
>>>>>> type whatever comes to mind (director, title, etc) into a field that
>>>>>> is always there than opening up a second window and typing things into
>>>>>> their respective fields.
>>>>>>
>>>>>> So I'd ask, "what's wrong with making things simpler from a user
>>>>>> experience point of view?"  :)
>>>>>>
>>>>>> The music catalogue software rhythmbox (which is very much like
>>>>>> griffith only for audio) allows for a quick search for any field on
>>>>>> its main window and I have to say I love the feature (and rhythmbox
>>>>>> gave me the idea that I should patch griffith in this way).
>>>>> I included a new patch because I used 'original_title' in place of
>>>>> 'o_title' in the previous one.
>>>>>
>>>>> Cheers,
>>>>> Daniel
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Griffith-devel mailing list
>>>>> Griffith-devel at lists.berlios.de
>>>>> https://lists.berlios.de/mailman/listinfo/griffith-devel
>>>>
>>>
>>> --
>>> Psss, psss, put it down! - http://www.cafepress.com/putitdown
>>>
>>
>
> _______________________________________________
> Griffith-devel mailing list
> Griffith-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/griffith-devel
>


-- 
Psss, psss, put it down! - http://www.cafepress.com/putitdown


From mikej06 at hotmail.com  Tue Apr 26 22:07:32 2011
From: mikej06 at hotmail.com (Michael Jahn)
Date: Tue, 26 Apr 2011 22:07:32 +0200
Subject: [Griffith-devel] patch for searching for any field
In-Reply-To: <BANLkTi=BhgLbVZJnXNa4Wz7y1ueF3ewSMw@mail.gmail.com>
References: <BANLkTincQ=4RhOUP09PpfyV75iEJNBU1EA@mail.gmail.com>	<20110412114236.GD19405@piotro.eu>	<BANLkTimeeoKJXG59c8Fj7Qy8Py4aZzDiew@mail.gmail.com>	<BANLkTikx_jty6jSXxiyXM9jNO4CbOFQA2Q@mail.gmail.com>	<BLU0-SMTP1765E6C5B44B40139CB24B0A9AB0@phx.gbl>	<BANLkTim0nCTiGimh8djcyM5N+sq-=Mod-A@mail.gmail.com>	<BANLkTi=wEz71NzsEjE40Sx7pibj01Np6Kw@mail.gmail.com>	<BLU0-SMTP147E769AEDDA07336976AE9A9960@phx.gbl>
	<BANLkTi=BhgLbVZJnXNa4Wz7y1ueF3ewSMw@mail.gmail.com>
Message-ID: <BLU0-SMTP1906013C85896076D292D0A9990@phx.gbl>

We talk about different things. Typeahead search works directly within
the main list.
Set the focus at any movie entry in the main list and then just type in
the part of a movie or director.
While your are typing the focus jumps through the list to the next
matching entry.
It works without using the drop down list.

The answer for your question:
You don't have to edit the glade files. The entries in the drop down
list are generated in the code.
Look into the file initialize.py, function
def dictionaries(self):
in line 771:
self.search_criteria = (
Here is the list of the defined fields. Every field in search_criteria
needs an entry in the following
list field_names with the same key.
The main problem is that field_names should only contain physically
existing database columns I think.
I didn't try to add non-db fields.
So I think it would be better if you add the entry 'Any' to the list
search_criteria_sorted
in line 732 before the loop
for criteria in sorted_criterias:
...

Michael

Am 26.04.2011 14:12, schrieb Daniel Fetchinson:
>> Perhaps I'm wrong but I thought it would partiallly fit your needs to
>> look for a movie by just typing in a part of the title or director.
>> Without opening an extra window.
> If I type in part of the title I only get the right result if 'Title'
> is selected from the drop down list. Similarly if I type in part of
> the director I get the right result only if 'Director' is selected
> from said list.
>
> What I'm after is an item on the drop down list called 'Any' which I
> would set for my default and then typing in either the title or the
> director (or any other field) would give me the expected result. In
> this way you only have to type and don't have to select anything so
> this way of doing things would be the fastest and most convenient.
>
> By the way, the only thing I'm missing at the moment is a little help
> with glade (the actual query in python is done now) so that really a
> new item on the drop down list would appear. I'm guessing I have to
> modify some of the .glade files, but don't know how. Is anyone
> familiar with glade? Are these files edited by hand or only through
> glade-2 or glade-3?
>
> Cheers,
> Daniel
>
>
>
>
>>>>> Do you know the type ahead feature of the main list?
>>>> No, I don't. But sounds good, what is it?
>>> You mean perhaps the feature that as I type the already typed query
>>> gets searched for within a predefined short time interval? Yeah, I
>>> know that one, it's pretty cool!
>>> But how does this has to do with the ability to search for *any* field
>>> from the main list?
>>>
>>> Cheers,
>>> Daniel
>>>
>>>
>>>>>>>>> I'm sending a patch against trunk which makes it possible to search
>>>>>>>>> for many fields ( 'director', 'title', 'original_title',
>>>>>>>>> 'cameraman',
>>>>>>>>> 'cast', 'year', 'country', 'notes' ) at once, i.e. all of them OR'd
>>>>>>>>> together.
>>>>>>>>>
>>>>>>>>> The patch only touches lib/quick_filter.py and in order to have this
>>>>>>>> what's wrong with advance filter window (wich allows this and much
>>>>>>>> more)?
>>>>>>> There is nothing wrong with that in terms of "what's possible", it's
>>>>>>> more like a usability feature. I think it's much more convenient to
>>>>>>> type whatever comes to mind (director, title, etc) into a field that
>>>>>>> is always there than opening up a second window and typing things into
>>>>>>> their respective fields.
>>>>>>>
>>>>>>> So I'd ask, "what's wrong with making things simpler from a user
>>>>>>> experience point of view?"  :)
>>>>>>>
>>>>>>> The music catalogue software rhythmbox (which is very much like
>>>>>>> griffith only for audio) allows for a quick search for any field on
>>>>>>> its main window and I have to say I love the feature (and rhythmbox
>>>>>>> gave me the idea that I should patch griffith in this way).
>>>>>> I included a new patch because I used 'original_title' in place of
>>>>>> 'o_title' in the previous one.
>>>>>>
>>>>>> Cheers,
>>>>>> Daniel
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>> _______________________________________________
>>>>>> Griffith-devel mailing list
>>>>>> Griffith-devel at lists.berlios.de
>>>>>> https://lists.berlios.de/mailman/listinfo/griffith-devel
>>>> --
>>>> Psss, psss, put it down! - http://www.cafepress.com/putitdown
>>>>
>> _______________________________________________
>> Griffith-devel mailing list
>> Griffith-devel at lists.berlios.de
>> https://lists.berlios.de/mailman/listinfo/griffith-devel
>>
>



From fetchinson at googlemail.com  Wed Apr 27 12:40:13 2011
From: fetchinson at googlemail.com (Daniel Fetchinson)
Date: Wed, 27 Apr 2011 12:40:13 +0200
Subject: [Griffith-devel] patch for searching for any field
In-Reply-To: <BLU0-SMTP1906013C85896076D292D0A9990@phx.gbl>
References: <BANLkTincQ=4RhOUP09PpfyV75iEJNBU1EA@mail.gmail.com>
	<20110412114236.GD19405@piotro.eu>
	<BANLkTimeeoKJXG59c8Fj7Qy8Py4aZzDiew@mail.gmail.com>
	<BANLkTikx_jty6jSXxiyXM9jNO4CbOFQA2Q@mail.gmail.com>
	<BLU0-SMTP1765E6C5B44B40139CB24B0A9AB0@phx.gbl>
	<BANLkTim0nCTiGimh8djcyM5N+sq-=Mod-A@mail.gmail.com>
	<BANLkTi=wEz71NzsEjE40Sx7pibj01Np6Kw@mail.gmail.com>
	<BLU0-SMTP147E769AEDDA07336976AE9A9960@phx.gbl>
	<BANLkTi=BhgLbVZJnXNa4Wz7y1ueF3ewSMw@mail.gmail.com>
	<BLU0-SMTP1906013C85896076D292D0A9990@phx.gbl>
Message-ID: <BANLkTimjaOZsNudMbjmTWh3sN5h2sEhjcA@mail.gmail.com>

> We talk about different things.

Probably!

> Typeahead search works directly within the main list.
> Set the focus at any movie entry in the main list and then just type in
> the part of a movie or director.
> While your are typing the focus jumps through the list to the next
> matching entry.

Wow, I did not know that! Pretty cool, one question: if the first
match is found, how do I jump to the next matching entry and then the
next?

> It works without using the drop down list.
>
> The answer for your question:
> You don't have to edit the glade files. The entries in the drop down
> list are generated in the code.
> Look into the file initialize.py, function
> def dictionaries(self):
> in line 771:
> self.search_criteria = (
> Here is the list of the defined fields. Every field in search_criteria
> needs an entry in the following
> list field_names with the same key.
> The main problem is that field_names should only contain physically
> existing database columns I think.
> I didn't try to add non-db fields.
> So I think it would be better if you add the entry 'Any' to the list
> search_criteria_sorted
> in line 732 before the loop
> for criteria in sorted_criterias:

Thanks a lot, this helps a lot, I'll try implementing this.

Cheers,
Daniel


> ...
>
> Michael
>
> Am 26.04.2011 14:12, schrieb Daniel Fetchinson:
>>> Perhaps I'm wrong but I thought it would partiallly fit your needs to
>>> look for a movie by just typing in a part of the title or director.
>>> Without opening an extra window.
>> If I type in part of the title I only get the right result if 'Title'
>> is selected from the drop down list. Similarly if I type in part of
>> the director I get the right result only if 'Director' is selected
>> from said list.
>>
>> What I'm after is an item on the drop down list called 'Any' which I
>> would set for my default and then typing in either the title or the
>> director (or any other field) would give me the expected result. In
>> this way you only have to type and don't have to select anything so
>> this way of doing things would be the fastest and most convenient.
>>
>> By the way, the only thing I'm missing at the moment is a little help
>> with glade (the actual query in python is done now) so that really a
>> new item on the drop down list would appear. I'm guessing I have to
>> modify some of the .glade files, but don't know how. Is anyone
>> familiar with glade? Are these files edited by hand or only through
>> glade-2 or glade-3?
>>
>> Cheers,
>> Daniel
>>
>>
>>
>>
>>>>>> Do you know the type ahead feature of the main list?
>>>>> No, I don't. But sounds good, what is it?
>>>> You mean perhaps the feature that as I type the already typed query
>>>> gets searched for within a predefined short time interval? Yeah, I
>>>> know that one, it's pretty cool!
>>>> But how does this has to do with the ability to search for *any* field
>>>> from the main list?
>>>>
>>>> Cheers,
>>>> Daniel
>>>>
>>>>
>>>>>>>>>> I'm sending a patch against trunk which makes it possible to
>>>>>>>>>> search
>>>>>>>>>> for many fields ( 'director', 'title', 'original_title',
>>>>>>>>>> 'cameraman',
>>>>>>>>>> 'cast', 'year', 'country', 'notes' ) at once, i.e. all of them
>>>>>>>>>> OR'd
>>>>>>>>>> together.
>>>>>>>>>>
>>>>>>>>>> The patch only touches lib/quick_filter.py and in order to have
>>>>>>>>>> this
>>>>>>>>> what's wrong with advance filter window (wich allows this and much
>>>>>>>>> more)?
>>>>>>>> There is nothing wrong with that in terms of "what's possible", it's
>>>>>>>> more like a usability feature. I think it's much more convenient to
>>>>>>>> type whatever comes to mind (director, title, etc) into a field that
>>>>>>>> is always there than opening up a second window and typing things
>>>>>>>> into
>>>>>>>> their respective fields.
>>>>>>>>
>>>>>>>> So I'd ask, "what's wrong with making things simpler from a user
>>>>>>>> experience point of view?"  :)
>>>>>>>>
>>>>>>>> The music catalogue software rhythmbox (which is very much like
>>>>>>>> griffith only for audio) allows for a quick search for any field on
>>>>>>>> its main window and I have to say I love the feature (and rhythmbox
>>>>>>>> gave me the idea that I should patch griffith in this way).
>>>>>>> I included a new patch because I used 'original_title' in place of
>>>>>>> 'o_title' in the previous one.
>>>>>>>
>>>>>>> Cheers,
>>>>>>> Daniel
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> _______________________________________________
>>>>>>> Griffith-devel mailing list
>>>>>>> Griffith-devel at lists.berlios.de
>>>>>>> https://lists.berlios.de/mailman/listinfo/griffith-devel
>>>>> --
>>>>> Psss, psss, put it down! - http://www.cafepress.com/putitdown
>>>>>
>>> _______________________________________________
>>> Griffith-devel mailing list
>>> Griffith-devel at lists.berlios.de
>>> https://lists.berlios.de/mailman/listinfo/griffith-devel
>>>
>>
>
> _______________________________________________
> Griffith-devel mailing list
> Griffith-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/griffith-devel
>


-- 
Psss, psss, put it down! - http://www.cafepress.com/putitdown


From elencarlos at gmail.com  Wed Apr 27 20:22:10 2011
From: elencarlos at gmail.com (Elencarlos Soares)
Date: Wed, 27 Apr 2011 15:22:10 -0300
Subject: [Griffith-devel] New search plugin to Interfilmes.com and a problem
Message-ID: <BANLkTin0jzw5t1dOO5SQBz_Uy4m_Z1t=Yw@mail.gmail.com>

hello?people

I'm?Brazilian programmer,?and developed?a?searchplugin?for
interfilmes.com site Brazilian Portuguese.

But as we call it in Brazil did a 'gambiarra', a quick hack to work.

I'll explain.

the search url to site interfilmes.com is this:
'www.interfilmes.com/busca.' + titulo + '.html'
example: http://www.interfilmes.com/busca.casa do lago.html

but the existing search plugins use url like 'www.site.com/?q =' + title

the quick hack I did was this:

no PluginMovieInterfilmes.py

class SearchPlugin(movie.SearchMovie):
    def __init__(self):
        self.original_url_search = "http://interfilmes.com/busca."
#### + self.title + ".html"
        self.translated_url_search = self.original_url_search

and in movie.py I did:

def open_search(self, parent_window):
        self.titles = [""]
        self.ids = [""]
        if self.url.find('%s') > 0:
            self.url = self.url % self.title
            self.url = string.replace(self.url, ' ', '%20')
        else:
            if self.url == "http://interfilmes.com/busca.":
                self.url = string.replace(self.url + self.title +
'.html', ' ', '%20')
            else:
                self.url = string.replace(self.url + self.title, ' ', '%20')

I would like a help. is required pass the title of the film before  to
generate the url search
how to solve it without modifying the movie.py?

PS. is the first time I code something in Python.  I'm still learning.
and my English is google translate, excuse the poor grammar
-------------- next part --------------
A non-text attachment was scrubbed...
Name: movie.py
Type: application/octet-stream
Size: 15056 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/griffith-devel/attachments/20110427/264e7342/attachment.obj>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: PluginMovieInterfilmes.py
Type: application/octet-stream
Size: 5342 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/griffith-devel/attachments/20110427/264e7342/attachment-0001.obj>

From filosottile.wiki at gmail.com  Wed Apr 27 21:33:45 2011
From: filosottile.wiki at gmail.com (Filippo Valsorda)
Date: Wed, 27 Apr 2011 21:33:45 +0200
Subject: [Griffith-devel] New search plugin to Interfilmes.com and a problem
In-Reply-To: <BANLkTin4TWoeXV96wQithUOE20LN+rNoxQ@mail.gmail.com>
References: <BANLkTin0jzw5t1dOO5SQBz_Uy4m_Z1t=Yw@mail.gmail.com>
	<BANLkTin4TWoeXV96wQithUOE20LN+rNoxQ@mail.gmail.com>
Message-ID: <BANLkTi=9nBLujZrp=0Nd1NyckH0Lo5ttWg@mail.gmail.com>

Well, quoting from the ChangeLog (which i forgot to update on my last
commit, sorry)
? allow "%s" in self.original_url_search and self.translated_url_search

So if you put %s in the url it gets replaced by the title =)
It wasn't clear, that's right.

Thanks for the plugin, tested and committed.

2011/4/27 Elencarlos Soares <elencarlos at gmail.com>:
> hello?people
>
> I'm?Brazilian programmer,?and developed?a?searchplugin?for
> interfilmes.com site Brazilian Portuguese.
>
> But as we call it in Brazil did a 'gambiarra', a quick hack to work.
>
> I'll explain.
>
> the search url to site interfilmes.com is this:
> 'www.interfilmes.com/busca.' + titulo + '.html'
> example: http://www.interfilmes.com/busca.casa do lago.html
>
> but the existing search plugins use url like 'www.site.com/?q =' + title
>
> the quick hack I did was this:
>
> no PluginMovieInterfilmes.py
>
> class SearchPlugin(movie.SearchMovie):
> ? ?def __init__(self):
> ? ? ? ?self.original_url_search = "http://interfilmes.com/busca."
> #### + self.title + ".html"
> ? ? ? ?self.translated_url_search = self.original_url_search
>
> and in movie.py I did:
>
> def open_search(self, parent_window):
> ? ? ? ?self.titles = [""]
> ? ? ? ?self.ids = [""]
> ? ? ? ?if self.url.find('%s') > 0:
> ? ? ? ? ? ?self.url = self.url % self.title
> ? ? ? ? ? ?self.url = string.replace(self.url, ' ', '%20')
> ? ? ? ?else:
> ? ? ? ? ? ?if self.url == "http://interfilmes.com/busca.":
> ? ? ? ? ? ? ? ?self.url = string.replace(self.url + self.title +
> '.html', ' ', '%20')
> ? ? ? ? ? ?else:
> ? ? ? ? ? ? ? ?self.url = string.replace(self.url + self.title, ' ', '%20')
>
> I would like a help. is required pass the title of the film before ?to
> generate the url search
> how to solve it without modifying the movie.py?
>
> PS. is the first time I code something in Python. ?I'm still learning.
> and my English is google translate, excuse the poor grammar


From mikej06 at hotmail.com  Wed Apr 27 21:56:23 2011
From: mikej06 at hotmail.com (Michael Jahn)
Date: Wed, 27 Apr 2011 21:56:23 +0200
Subject: [Griffith-devel] New search plugin to Interfilmes.com and a
	problem
In-Reply-To: <BANLkTin0jzw5t1dOO5SQBz_Uy4m_Z1t=Yw@mail.gmail.com>
References: <BANLkTin0jzw5t1dOO5SQBz_Uy4m_Z1t=Yw@mail.gmail.com>
Message-ID: <BLU0-SMTP1430BD61C1575CA360F3EB5A9980@phx.gbl>

Hi Elencarlos,

first, nice work. I started my python experience the same way. :)

I modified your version of the plugin a little bit.
The solution for your main problem looks like the following line:
self.original_url_search = "http://interfilmes.com/busca.%s.html"

I change a little bit more of your code. Feel free to take a look at the
search functions.
I really recommend it.
A little general hint for you: Try to use search patterns which are as
small as possible. It prevents that the plugin breaks if the web site
changes a little bit.

Another small hint: It looks to me that you don't use an IDE nor a
debugger. If you want to develop / maintain more plugins I would suggest
to use an IDE like SPE
http://en.wikipedia.org/wiki/Stani%27s_Python_Editor
or Eclipse.

Michael

Am 27.04.2011 20:22, schrieb Elencarlos Soares:
> hello people
>
> I'm Brazilian programmer, and developed a searchplugin for
> interfilmes.com site Brazilian Portuguese.
>
> But as we call it in Brazil did a 'gambiarra', a quick hack to work.
>
> I'll explain.
>
> the search url to site interfilmes.com is this:
> 'www.interfilmes.com/busca.' + titulo + '.html'
> example: http://www.interfilmes.com/busca.casa do lago.html
>
> but the existing search plugins use url like 'www.site.com/?q =' + title
>
> the quick hack I did was this:
>
> no PluginMovieInterfilmes.py
>
> class SearchPlugin(movie.SearchMovie):
>     def __init__(self):
>         self.original_url_search = "http://interfilmes.com/busca."
> #### + self.title + ".html"
>         self.translated_url_search = self.original_url_search
>
> and in movie.py I did:
>
> def open_search(self, parent_window):
>         self.titles = [""]
>         self.ids = [""]
>         if self.url.find('%s') > 0:
>             self.url = self.url % self.title
>             self.url = string.replace(self.url, ' ', '%20')
>         else:
>             if self.url == "http://interfilmes.com/busca.":
>                 self.url = string.replace(self.url + self.title +
> '.html', ' ', '%20')
>             else:
>                 self.url = string.replace(self.url + self.title, ' ', '%20')
>
> I would like a help. is required pass the title of the film before  to
> generate the url search
> how to solve it without modifying the movie.py?
>
> PS. is the first time I code something in Python.  I'm still learning.
> and my English is google translate, excuse the poor grammar
>
>
> _______________________________________________
> Griffith-devel mailing list
> Griffith-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/griffith-devel

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/griffith-devel/attachments/20110427/6945446e/attachment.html>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: PluginMovieInterfilmes.py
URL: <https://lists.berlios.de/pipermail/griffith-devel/attachments/20110427/6945446e/attachment.ksh>

